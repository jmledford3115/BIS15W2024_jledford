geom_bar(fill = "#0099f9", alpha=0.8)+
labs(title="Incidents Involving Great White Sharks",
x="Injury",
y="n")+
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))
View(sharks)
sharks <- sharks %>%
filter(incident_number != "NOT COUNTED"))
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED"))
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
separate(date, into=c("month", "day", "year"), sep="/")%>%
group_by(year) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=year, y=total))+
geom_line(color = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by Year (1950-2022)",
x="Year",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
separate(date, into=c("month", "day", "year"), sep="/")%>%
group_by(year) %>%
summarise(total=n(), .groups='keep')
sharks %>%
group_by(date) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=year, y=total))+
geom_line(color = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by Year (1950-2022)",
x="Year",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(date) %>%
summarise(total=n(), .groups='keep')
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names() %>%
mutate(date = as_date(date, format="%m/%d/%Y")))
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names() %>%
mutate(date = as_date(date, format="%m/%d/%Y"))
summary(sharks)
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
group_by(date) %>%
summarise(total=n(), .groups='keep')
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names() %>%
mutate(date=as_date(date, format="%m/%d/%Y"))
View(sharks)
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names() %>%
mutate(date=as_date(date, format=dmy))
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names() %>%
mutate(date=as_date(date, format="dmy"))
View(sharks)
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
as_date(sharks$date, format = '%m/%d/%Y')
View(sharks)
sharks %>%
mutate(date = mdy(date))
sharks %>%
mutate(date = dmy(date))
sharks %>%
mutate(date = mdy(date))
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
group_by(county) %>%
summarise(n = n()) %>%
ggplot(aes(x=reorder(county, n), y=n)) +
geom_col(fill = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by County (1950-2022)",
x=NULL,
y="n") +
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))+
geom_text(aes(label = n), vjust = -0.2, size = 3, color = "black")
sharks %>%
group_by(date) %>%
summarise(total=n(), .groups='keep')
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
View(sharks)
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
group_by(year) %>%
summarise(total=n(), .groups='keep')
sharks %>%
group_by(year) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=year, y=total))+
geom_line(color = "#0099f9", alpha=0.8)
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep')
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=month, y=n))+
geom_col()+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=month, y=total))+
geom_col()+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total))+
geom_col()+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total, fill=month))+
geom_col()+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total, fill=as_factor(month))+
geom_col()+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total, fill=as_factor(month)))+
geom_col()+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total))+
geom_col(fill = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury))+
geom_bar(fill = "#0099f9", alpha=0.8)+
labs(title="Incidents Involving Great White Sharks",
x="Injury",
y="n")+
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))
sharks_tidy %>%
count(mode) %>%
arrange(desc(n))
sharks %>%
count(mode) %>%
arrange(desc(n))
View(sharks)
sharks %>%
ggplot(aes(x=year, fill=species))+
geom_bar(alpha=0.8, position="dodge")+
labs(title="Shark Incidents by Year",
x="Year",
y="Number of Incidents")+
theme(plot.title = element_text(size = 14, face="bold"))
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv") %>% clean_names()
summary(white_sharks)
summary(white_sharks)
glimpse(white_sharks)
white_sharks %>%
ggplot(aes(x=sex, y=total_length_cm))+
geom_boxplot(fill = "#0099f9", alpha=0.8)
white_sharks %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)
View(white_sharks)
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
glimpse(white_sharks)
white_sharks %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)
white_sharks %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8, na.rm=T)
white_sharks %>%
filter(sex!=NA) %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)
miss_var_summary(white_sharks)
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)+
labs(title="Total Length (cm) of Great White Sharks",
x="Sex",
y="Total Length (cm)")
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)+
labs(title="Length of Great White Sharks by Sex",
x="Sex",
y="Total Length (cm)")
white_sharks %>%
ggplot(aes(x=total_length))+
geom_density(fill = "#0099f9", alpha=0.8)
white_sharks %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)
white_sharks %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)+
labs(title="Distribution of Length by Sex",
x=Total Length (cm),
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)+
labs(title="Distribution of Length by Sex",
x="Total Length (cm)",
y=NULL)+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
white_sharks %>%
filter(sex!="NA" | maturity=="Adolescent")
white_sharks %>%
filter(sex!="NA" & maturity=="Adolescent")
white_sharks %>%
filter(sex!="NA" & maturity!="Adolescent")
white_sharks %>%
filter(sex!="NA" & maturity!="Adolescent") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)+
labs(title="Length of Great White Sharks by Sex",
x="Sex",
y="Total Length (cm)")
white_sharks %>%
filter(maturity!="Adolescent")
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)+
labs(title="Length of Great White Sharks by Sex",
x="Sex",
y="Total Length (cm)")
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)+
labs(title="Distribution of Length by Sex",
x="Total Length (cm)",
y=NULL)+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
white_sharks %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T), .groups='keep')
white_sharks %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T), .groups='keep')
white_sharks %>%
filter(sex!="NA") %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T), .groups='keep')
white_sharks %>%
filter(sex!="NA") %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T),
n_samples=n(),
.groups='keep')
white_sharks %>%
filter(sex!="NA") %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T),
n=n(),
.groups='keep')
View(white_sharks)
library("tidyverse")
library("janitor")
library("naniar")
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
summary(sharks)
miss_var_summary(sharks)
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
group_by(county) %>%
summarise(n = n()) %>%
ggplot(aes(x=reorder(county, n), y=n)) +
geom_col(fill = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by County (1950-2022)",
x=NULL,
y="n") +
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))+
geom_text(aes(label = n), vjust = -0.2, size = 3, color = "black")
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total))+
geom_col(fill = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
tabyl(county, injury) %>%
adorn_totals("col") %>%
arrange(desc(fatal)) %>%
as_tibble()
sharks %>%
group_by(county, injury) %>%
summarise(total=n(), .groups='keep') %>%
pivot_wider(names_from = injury, values_from = total) %>%
mutate(total=sum(minor, major, fatal, none, na.rm=T)) %>%
arrange(desc(fatal))
sharks %>%
count(mode) %>%
arrange(desc(n))
sharks %>%
ggplot(aes(x=injury, fill=injury))+
geom_bar(alpha=0.8, position="dodge")+
facet_wrap(~mode)+
labs(title="Injury Type by Activity",
x=NULL,
y="Number of Incidents")+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
sharks %>%
count(species) %>%
arrange(desc(n))
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury))+
geom_bar(fill = "#0099f9", alpha=0.8)+
labs(title="Incidents Involving Great White Sharks",
x="Injury",
y="n")+
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
glimpse(white_sharks)
miss_var_summary(white_sharks)
white_sharks %>%
filter(sex!="NA") %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T),
n=n(), .groups='keep')
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)+
labs(title="Length of Great White Sharks by Sex",
x="Sex",
y="Total Length (cm)")
white_sharks %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)
white_sharks %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)+
labs(title="Distribution of Total Length by Sex",
x="Total Length (cm)",
y=NULL+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)+
labs(title="Distribution of Total Length by Sex",
x="Total Length (cm)",
y=NULL)+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
library("tidyverse")
library("janitor")
library("naniar")
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
summary(sharks)
miss_var_summary(sharks)
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
group_by(county) %>%
summarise(n = n()) %>%
ggplot(aes(x=reorder(county, n), y=n)) +
geom_col(fill = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by County (1950-2022)",
x=NULL,
y="n") +
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))+
geom_text(aes(label = n), vjust = -0.2, size = 3, color = "black")
sharks %>%
group_by(month) %>%
summarise(total=n(), .groups='keep') %>%
ggplot(aes(x=as_factor(month), y=total))+
geom_col(fill = "#0099f9", alpha=0.8)+
labs(title="Shark Incidents by Month",
x="Month",
y="n")+
theme(plot.title = element_text(size = 14, face="bold"))
sharks %>%
tabyl(county, injury) %>%
adorn_totals("col") %>%
arrange(desc(fatal)) %>%
as_tibble()
sharks %>%
group_by(county, injury) %>%
summarise(total=n(), .groups='keep') %>%
pivot_wider(names_from = injury, values_from = total) %>%
mutate(total=sum(minor, major, fatal, none, na.rm=T)) %>%
arrange(desc(fatal))
sharks %>%
count(mode) %>%
arrange(desc(n))
sharks %>%
ggplot(aes(x=injury, fill=injury))+
geom_bar(alpha=0.8, position="dodge")+
facet_wrap(~mode)+
labs(title="Injury Type by Activity",
x=NULL,
y="Number of Incidents")+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
sharks %>%
count(species) %>%
arrange(desc(n))
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury))+
geom_bar(fill = "#0099f9", alpha=0.8)+
labs(title="Incidents Involving Great White Sharks",
x="Injury",
y="n")+
theme(axis.text.x = element_text(angle = 60, hjust = 1),
plot.title = element_text(size = 14, face="bold"))
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
glimpse(white_sharks)
miss_var_summary(white_sharks)
white_sharks %>%
filter(sex!="NA") %>%
group_by(sex) %>%
summarise(mean_length=mean(total_length_cm, na.rm=T),
n=n(), .groups='keep')
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=sex, y=total_length_cm, fill=sex))+
geom_boxplot(alpha=0.8)+
labs(title="Length of Great White Sharks by Sex",
x="Sex",
y="Total Length (cm)")
white_sharks %>%
filter(sex!="NA") %>%
ggplot(aes(x=total_length_cm))+
geom_density(fill = "#0099f9", alpha=0.8)+
facet_wrap(~sex)+
labs(title="Distribution of Total Length by Sex",
x="Total Length (cm)",
y=NULL)+
theme(strip.text = element_text(size=10),
axis.text.x = element_text(size=8, angle = 60, hjust = 1))
